<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neo-Aether MAS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/frontend/style.css">
</head>
<body class="bg-slate-950 text-slate-200 overflow-hidden">

    <div id="intro-layer" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-black transition-opacity duration-1000">
        <div id="portal-sequence" class="relative w-64 h-96 flex items-center justify-center">

            <div id="portal-glow" class="absolute w-40 h-80 bg-blue-600/30 blur-3xl opacity-0 transition-opacity duration-1000"></div>

            <div class="door-frame">
                <div id="main-door" class="door-leaf"></div>
            </div>

            <img id="intro-character" src="/frontend/assets/character.jpg"
                 class="absolute opacity-0 scale-50 transition-all duration-1000 ease-out z-10"
                 alt="Character">
        </div>

        <div class="greeting-wrapper mt-10 h-20">
            <h1 id="greeting" class="opacity-0 text-5xl font-extrabold tracking-widest flex space-x-1">
                </h1>
        </div>
    </div>

    <div id="main-content" class="hidden">
        <main id="home-view" class="h-screen w-screen flex flex-col items-center justify-center space-y-12">
            <h1 class="text-5xl font-extrabold tracking-tighter bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent uppercase">
                Select Your Portal
            </h1>
            <div class="flex space-x-20">
                <div onclick="switchView('search')" class="node-circle fire-node cursor-pointer group">
                    <div class="fire-inner">ðŸ”¥</div>
                    <span class="node-label">Pulse Search</span>
                </div>
                <div onclick="switchView('pdf')" class="node-circle water-node cursor-pointer group">
                    <div class="water-inner">ðŸ’§</div>
                    <span class="node-label">Cloud Doc AI</span>
                </div>
            </div>
        </main>

        <section id="search-view" class="hidden h-screen w-screen bg-black flex flex-col items-center p-10 overflow-y-auto">
            <button onclick="switchView('home')" class="absolute top-5 left-5 text-red-500 hover:text-red-400 transition cursor-pointer z-50">
                <i class="fas fa-arrow-left"></i> Back
            </button>
            <div class="fireball-container mt-12">
                <div id="fireball" class="relative w-40 h-40 rounded-full bg-orange-600 blur-xl animate-pulse"></div>
                <div class="absolute inset-0 flex items-center justify-center">
                     <div class="orbiting-flame"></div>
                </div>
            </div>
            <div class="w-full max-w-2xl mt-10 z-10">
                <div class="pill-wrapper bg-gray-900 rounded-full border border-orange-500 p-1 flex items-center overflow-hidden">
                    <input id="queryInput" type="text" placeholder="Ignite a query..."
                           onkeydown="if(event.key==='Enter') askQuery()"
                           class="custom-pill-input bg-transparent flex-grow px-6 py-3 outline-none text-white">
                    <button onclick="askQuery()" class="bg-orange-600 hover:bg-orange-500 px-10 py-3 rounded-full text-white font-bold transition shrink-0">GO</button>
                </div>
                <div id="search-results" class="mt-8 bg-gray-900/80 rounded-xl p-6 border border-gray-800 hidden">
                    <p class="text-orange-400 font-mono text-sm mb-2" id="agent-display"></p>
                    <div id="search-output-text" class="leading-relaxed whitespace-pre-wrap"></div>
                </div>
            </div>
        </section>

        <section id="pdf-view" class="hidden h-screen w-screen bg-gradient-to-b from-sky-400 to-blue-600 flex flex-col items-center p-10 text-white overflow-y-auto">
            <button onclick="switchView('home')" class="absolute top-5 left-5 text-white hover:opacity-80 transition cursor-pointer z-50">
                <i class="fas fa-arrow-left"></i> Back
            </button>
            <div class="w-full max-w-3xl mt-10 space-y-6">
                <div class="bg-white/20 backdrop-blur-md p-8 rounded-3xl border border-white/30 text-center">
                    <h2 class="text-3xl font-bold mb-4">Cloud Doc Ingestion</h2>
                    <input type="file" id="pdfFile" class="hidden" accept=".pdf">
                    <label for="pdfFile" class="cursor-pointer bg-white text-blue-600 px-10 py-4 rounded-full font-bold hover:bg-blue-50 transition inline-block">
                        <i class="fas fa-cloud-upload-alt"></i> Select PDF
                    </label>
                    <p id="uploadStatus" class="mt-4 text-sm font-medium"></p>
                    <button onclick="uploadPdf()" class="mt-4 text-xs underline block mx-auto hover:text-blue-100">Confirm Upload</button>
                </div>
                <div class="pill-wrapper bg-white/10 backdrop-blur-md rounded-full border border-white/30 p-1 flex items-center overflow-hidden">
                    <input id="pdfQueryInput" type="text" placeholder="Analyze the cloud content..."
                           onkeydown="if(event.key==='Enter') queryPdf()"
                           class="custom-pill-input bg-transparent flex-grow px-6 py-3 outline-none text-white placeholder:text-blue-100">
                    <button onclick="queryPdf()" class="bg-white text-blue-600 px-10 py-3 rounded-full font-bold transition hover:bg-blue-50 shrink-0">ANALYZE</button>
                </div>
                <div id="pdf-output" class="bg-black/20 backdrop-blur-lg rounded-2xl p-6 border border-white/10 hidden">
                    <div id="pdf-output-text" class="leading-relaxed whitespace-pre-wrap"></div>
                </div>
            </div>
        </section>
    </div>

    <script src="/frontend/main.js"></script>
</body>
</html>