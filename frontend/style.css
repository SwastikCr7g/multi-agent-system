/* --- 1. GLOBAL & FONTS --- */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;700;800&display=swap');
* { font-family: 'Plus Jakarta Sans', sans-serif; transition: all 0.2s ease-in-out; }

/* --- 2. INTRO ANIMATIONS --- */
.door-frame { width: 200px; height: 320px; border: 8px solid #3d2b1f; perspective: 1200px; position: relative; background: #000; }
.door-leaf { width: 100%; height: 100%; background: #5d4037; border: 2px solid #3e2723; position: absolute; transform-origin: left; transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1); z-index: 20; transform: rotateY(0deg); }
.door-leaf.open { transform: rotateY(-115deg); }

#intro-character.step-forward {
    opacity: 1 !important;
    transform: scale(1.2) translateY(-30px) !important; /* Positions ABOVE text */
}

/* JUMPING GRADIENT TEXT */
#greeting span {
    display: inline-block;
    background: linear-gradient(135deg, #60a5fa, #c084fc, #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 10px rgba(192, 132, 252, 0.4));
}
.jump { animation: jump-effect 0.5s ease-in-out infinite alternate; }
@keyframes jump-effect { from { transform: translateY(0); } to { transform: translateY(-20px); filter: brightness(1.2) drop-shadow(0 0 15px #60a5fa); } }
#greeting.show { opacity: 1 !important; }

/* --- 3. NODE CIRCLES & PORTAL EFFECTS --- */
.node-circle {
    width: 220px; height: 220px; border-radius: 50%;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    position: relative; border: 2px solid rgba(255,255,255,0.1);
    background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px);
}

/* FIRE AGENT (Orange Ring & Glow) */
.fire-node:hover { border-color: #f97316; box-shadow: 0 0 30px rgba(249, 115, 22, 0.4); }
.fire-node:hover .fire-inner { transform: scale(1.3); filter: drop-shadow(0 0 15px #f97316); }
.fire-node::before {
    content: ''; position: absolute; inset: -10px; border-radius: 50%;
    border: 2px solid transparent; border-top-color: #f97316;
    animation: rotate-effect 2s linear infinite; opacity: 0;
}
.fire-node:hover::before { opacity: 1; }

/* WATER AGENT (Blue Ring & Bubbles) */
.water-node:hover { border-color: #3b82f6; box-shadow: 0 0 30px rgba(59, 130, 246, 0.4); }
.water-node:hover .water-inner { transform: scale(1.3); filter: drop-shadow(0 0 15px #3b82f6); }
.water-node::after {
    content: ''; position: absolute; inset: -10px; border-radius: 50%;
    border: 2px solid transparent; border-bottom-color: #3b82f6;
    animation: rotate-reverse 2.5s linear infinite; opacity: 0;
}
.water-node:hover::after { opacity: 1; }

@keyframes rotate-effect { to { transform: rotate(360deg); } }
@keyframes rotate-reverse { to { transform: rotate(-360deg); } }

/* UI FIXES */
.pill-wrapper { overflow: hidden !important; display: flex; align-items: center; }
.custom-pill-input { background: transparent !important; border: none !important; color: white !important; outline: none !important; }
#search-results, #pdf-output { min-height: 12rem; max-height: 20rem; overflow-y: auto; border-radius: 1.5rem; }
.hidden { display: none !important; }
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }